{% extends "core/base.html" %}

{% block content %}
{% include "core/header.html" %}
  
<main class="flex-grow flex items-center justify-center min-h-screen mt-[7rem]">
<div class="register-container backdrop-blur-lg bg-white/40 border border-white/20 shadow-lg rounded-lg p-8 w-full max-w-lg mx-auto transition hover:shadow-2xl transform hover:-translate-y-1">
  <h2 class="text-2xl font-semibold text-[#111] mb-6 text-center drop-shadow">Add Gym</h2>
  <form method="POST" enctype="multipart/form-data" class="text-black ">
    {% csrf_token %}

    {{ form.as_p }}

    <!-- Accordion-style gallery section -->
    <div class="border border-[#4399c5] rounded-lg overflow-hidden my-4">
      <button type="button" onclick="toggleAccordion()" class="w-full px-4 py-2 bg-[#4399c5] text-black font-semibold text-left">
        ðŸ“¸ Gallery Images
      </button>
      <div id="gallerySection" class="p-4 space-y-2 bg-white/40">
        <div id="image-forms-container">
          <input type="file" name="images" class="block w-full file:bg-[#51b6ab] file:text-black file:px-4 file:py-2 file:rounded-lg file:border-0">
        </div>
        <button type="button" onclick="addImageField()" class="bg-[#ebcd77] px-4 py-2 rounded-md font-medium hover:bg-[#e8ddaf] transition">Add More Images</button>
      </div>
    </div>

    <button type="submit" class="w-full py-2 rounded-lg bg-[#4399c5] text-black font-semibold hover:bg-[#51b6ab] transition">
      Add Gym
    </button>
  </form>
</div>

<script>
function addImageField() {
  const container = document.getElementById("image-forms-container");
  const input = document.createElement("input");
  input.type = "file";
  input.name = "images";
  input.className = "block w-full file:bg-[#51b6ab] file:text-black file:px-4 file:py-2 file:rounded-lg file:border-0 mt-2";
  container.appendChild(input);
}

function toggleAccordion() {
  const section = document.getElementById("gallerySection");
  section.classList.toggle("hidden");
}
</script>

{% endblock content %}