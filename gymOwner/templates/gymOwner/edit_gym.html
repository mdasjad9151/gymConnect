{% extends 'core/base.html' %} {% block content %} 
{% include "core/header.html" %}

<div
  class="bg-white/40 bg-opacity-50 backdrop-blur-lg p-6 rounded-lg max-w-lg mx-auto mt-[7rem]"
>
  <h2 class="text-2xl font-semibold text-[#111] mb-6 text-center drop-shadow">
    Edit Gym
  </h2>

  <form
    method="post"
    enctype="multipart/form-data"
    class="space-y-4 text-black"
  >
    {% csrf_token %}
    <div class="space-y-4">{{ form.as_p }}</div>
    <button
      type="submit"
      class="w-full py-2 px-4 bg-[#51b6ab] text-white rounded-md hover:bg-[#4399c5] transition"
    >
      Update Gym
    </button>
  </form>

  <h3 class="text-2xl text-white mt-8 mb-4">Edit Gallery</h3>


  <h4 class="text-xl mt-8 text-black">Current Gallery</h4>

  {% if gym.images.all %}
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
    {% for image in gym.images.all %}
    <div class="w-full flex justify-center items-center">
      <img
        src="{{ image.image.url }}"
        class="rounded-lg shadow-lg transition-transform transform hover:scale-105"
        alt="Gym Gallery Image"
      />
    </div>
    {% endfor %}
    
  </div>
  {% else %}
  <p class="text-white mt-4">No images in gallery.</p>
  {% endif %}
    <form method="post" enctype="multipart/form-data" class="space-y-4">
    {% csrf_token %}
    <div class="space-y-4">{{ image_form.as_p }}</div>
    <button
      type="submit"
      class="w-full py-2 px-4 bg-[#51b6ab] text-white rounded-md hover:bg-[#4399c5] transition"
    >
      Add Images
    </button>
  </form>

</div>

<a
  href="{% url 'gym_list' %}"
  class="block text-center mt-8 text-[#ebcd77] hover:text-white transition"
  >Back to Gym List</a
>

{% endblock content %}
