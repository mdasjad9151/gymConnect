{% extends 'core/base.html' %}

{% block content %}
{% include 'core/header.html' %}

<main class="mt-[7rem] px-4 flex justify-center">
  <div class="w-full max-w-3xl bg-white/30 backdrop-blur-md border border-white/20 rounded-2xl shadow-lg p-6 text-black">

    <h2 class="text-2xl font-bold mb-6 text-center">My Memberships</h2>

    {% if memberships %}
      <ul class="space-y-6">
        {% for membership in memberships %}
          <li class="bg-[#cbccc6]/50 rounded-xl p-4 shadow-sm border border-[#e8ddaf]">
            <h3 class="text-lg font-semibold text-[#4399c5]">{{ membership.gym.name }}</h3>
            <p class="text-sm text-gray-700 mb-2">
              From <span class="font-medium">{{ membership.start_date }}</span> to <span class="font-medium">{{ membership.expire_date }}</span>
            </p>
            {% if membership.gym.id not in rated_gym_ids %}
              <a href="{% url 'membership:rate_gym' membership.gym.id %}"
                 class="inline-block mt-2 bg-[#51b6ab] text-black px-4 py-2 rounded-md hover:bg-[#4399c5] transition">
                Rate & Review
              </a>
            {% else %}
              <p class="text-green-700 italic mt-2">You have already rated this gym.</p>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-center text-gray-600 text-lg">You don't have any memberships yet.</p>
    {% endif %}

  </div>
</main>
{% endblock %}
