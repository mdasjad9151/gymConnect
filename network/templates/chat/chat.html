const socket = new WebSocket("ws://127.0.0.1:8000/ws/chat/2/");

socket.onopen = function () {
    console.log("WebSocket connection established.");
};

socket.onmessage = function (event) {
    const data = JSON.parse(event.data);
    console.log(`New message from ${data.sender}: ${data.message}`);
};

socket.onclose = function () {
    console.log("WebSocket connection closed.");
};

function sendMessage(message) {
    socket.send(JSON.stringify({ message: message }));
}
