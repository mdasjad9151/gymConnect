{% extends 'core/base.html' %} {% load static %} {% block content %} 
{% include 'core/header.html' %}
<style>
  #chat-box::-webkit-scrollbar {
    width: 8px;
  }

  #chat-box::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
  }

  #chat-box::-webkit-scrollbar-track {
    background: transparent;
  }
</style>

<div class="animate-fadeIn max-w-3xl mx-auto mt-[7rem] px-4">
  <div
    class="bg-white/10 backdrop-blur-md border border-white/20 text-white rounded-xl shadow-lg p-6"
  >
    <div class="flex items-center space-x-4 mb-4">
      <img
        src="{{ profile_picture.url }}"
        alt="Profile Picture"
        class="w-16 h-16 rounded-full border border-white/30 object-cover"
      />
      <div>
        <h2 class="text-xl font-semibold text-black">{{ name }}</h2>
        <p class="text-sm text-gray-200">{{ user_model_name }}</p>
      </div>
    </div>

    <!-- Chat container -->
    <div
      class="relative h-[400px] border border-white/10 rounded-lg overflow-hidden"
    >
      <div
        id="chat-box"
        class="h-full overflow-y-auto p-4 pb-24 space-y-2 scroll-smooth"
      >
        <!-- Messages and dates will appear here -->
      </div>

      <!-- Input area -->
      <div
        class="absolute bottom-0 left-0 w-full flex border-t border-white/10 bg-white/5 backdrop-blur-md p-2"
      >
        <input
          type="text"
          id="chat-message-input"
          placeholder="Type your message..."
          class="flex-grow px-4 py-2 rounded-l-lg text-black focus:outline-none"
        />
        <button
          id="chat-message-submit"
          class="bg-red-600 hover:bg-[#71211C] text-white px-4 py-2 rounded-r-lg transition"
        >
          Send
        </button>
      </div>
    </div>
  </div>
</div>
<script>
  let other_user_id = {{other_user.id}}
</script>

<script src="{% static 'network/js/chat_room.js' %}"></script>
{% endblock content %}
